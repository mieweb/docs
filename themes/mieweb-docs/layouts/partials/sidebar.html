{{- /* Sidebar navigation */}}
<aside
  id="sidebar"
  class="border-border bg-background fixed top-16 bottom-0 left-0 z-40 w-72 border-r transition-transform duration-200 ease-in-out"
  aria-label="Sidebar navigation"
>
  <div class="flex h-full flex-col">
    {{- /* Sidebar content */}}
    <nav class="flex-1 overflow-y-auto p-4" aria-label="Documentation navigation">
      <ul class="space-y-1" role="list">
        {{ $currentPage := . }} {{ range .Site.Menus.main }} {{ if .HasChildren }}
        <li class="sidebar-item-group" data-name="{{ .Identifier }}">
          <div class="flex items-center gap-1">
            <button
              class="sidebar-toggle text-muted-foreground hover:bg-muted hover:text-foreground flex h-8 w-8 shrink-0 items-center justify-center rounded-md transition-colors"
              aria-expanded="false"
              data-target="nav-{{ .Identifier }}"
              aria-label="Toggle {{ .Name }} submenu"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="lucide lucide-chevron-right transition-transform duration-200"
                aria-hidden="true"
              >
                <path d="m9 18 6-6-6-6" />
              </svg>
            </button>
            <a
              href="{{ .URL }}"
              class="flex-1 rounded-md px-2 py-1.5 text-sm font-medium text-foreground transition-colors hover:bg-muted hover:text-primary {{ if eq $.Page.RelPermalink .URL }}bg-muted text-primary{{ end }}"
              {{
              if
              eq
              $.Page.RelPermalink
              .URL
              }}aria-current="page"
              {{
              end
              }}
              >{{ .Name }}</a
            >
          </div>
          {{ $temp := dict "menu" $.Site.Menus.main "page" $.Page "site" $.Site "entry" . "level" 1 }} {{ partial
          "sidebar-nav.html" $temp }}
        </li>
        {{ else }}
        <li>
          <a
            href="{{ .URL }}"
            class="sidebar-item flex rounded-lg px-3 py-2 text-sm font-medium text-foreground transition-colors hover:bg-muted {{ if eq $.Page.RelPermalink .URL }}bg-muted text-primary{{ end }}"
            data-name="{{ .Identifier }}"
            {{
            if
            eq
            $.Page.RelPermalink
            .URL
            }}aria-current="page"
            {{
            end
            }}
          >
            {{ .Name }}
          </a>
        </li>
        {{ end }} {{ end }}
      </ul>
    </nav>

    {{- /* Sidebar footer */}}
    <div class="border-border border-t p-4">
      <div class="text-muted-foreground text-xs">
        <p>Â© {{ now.Year }} {{ .Site.Params.Brand.name }}</p>
      </div>
    </div>
  </div>
</aside>

{{- /* Mobile sidebar overlay */}}
<div
  id="sidebar-overlay"
  class="fixed inset-0 z-30 hidden bg-black/50 backdrop-blur-sm lg:hidden"
  aria-hidden="true"
></div>
